---
author: Kai Magnus Müller
pubDatetime: 2024-02-05T14:25:00Z
title: 'Using Icons in Figma Components'
highlight: false
draft: false
tags:
    - Icons
    - Figma
    # - Placeholder Component
ogImage: ''
description: Constructing mask based icon placeholder components for use in Figma based components and design systems
---
import Figure from '@components/Figure.astro';

For the past few years, I worked as a designer on various applications and projects and been a user, maintainer and author of internal design systems. Over the years I've spent a lot of time finding ways to build robust components, improving 'designer experience' and usability.  A recurring topic has been the handling of icons and in this post I want to show how we use icons in our design system. As great as Figma is, it is not without it's issues and from my experience, icons are an area where we can and have to use many tricks and techniques in a very condensed fashion. 

This post assumes basic knowledge of components, instances and libraries in Figma. I recommend visiting [Figma learn](https://help.figma.com/hc/en-us/categories/360002051613-Getting-Started) and the official tutorial files as an introduction.

{/* As mentioned before, community files are a great source of icons and I've used them as team libraries many times. For the most part this works pretty well, but there are a few things to keep in mind when using them that I want to highlight here.  */}

## Icon Buttons the Naive Way

Imagine you want to create a button component. A very simple approach would be to create a label text and insert an icon from your file or library directly. This works pretty well. You, the design system maintainer, can change its color to create secondary, and tertiary variants according to your style guide. Designers using your component can select the icon, swap it with other icons from the library and select different variants. In the screenshot below, I created a simple primary button with a white label and icon. What could go wrong?

<Figure
	alt="Icon, label and done is the component. Let's publish…"
	src="https://res.cloudinary.com/dm3a0qioc/image/upload/v1706090267/Figma%20Icons/sample-icon-button_awx2xd.png"
	aspectRatio="16:9"></Figure>

Turns out a lot. (relatively speaking)

When we swap the icon out to customize our button, some parts of the icon become black again. What happens here is that Figma tries to apply the white color override[^1] of the original icon on the swapped icon. But, because the new icon has more layers than the original instance, it only applies the override to the first layer it finds and not to any extra layers. So as a result, they appear in the default color.

<Figure
	alt="Oops, what happened? Seems like some icons reverted back to their original black color."
	src="https://res.cloudinary.com/dm3a0qioc/image/upload/v1706090267/Figma%20Icons/icon-button-with-swapped-instance_ljdhtx.png"
	aspectRatio="16:9"></Figure>


This issue is sometimes hard to spot. In the [IBM Carbon icon file that I maintain](https://www.figma.com/community/file/1141743458996921050/ibm-carbon-icons) for example, all icons are converted to outline strokes and then joined together into union groups. This way it only happens with a very small number of them. But there are some that can't be completely reduced to one element, so the issue will sometimes pop up.

## A Better Approach: Placeholder Component

So, how to fix this issue? Instead of applying color to the icon layer, we can use an extra layer on top of the icon as a helper. Now there is always only one override for Figma to take care of and we don't have to care about the icon paths anymore. To restore the icon paths – since the icon is now hidden behind the color layer – there are two possible solutions. We can either mask the color layer with the icon or create an intersect group with the layer and icon. This means the icon only provides the shape (kinda like a stencil) and the color layer is the one that is actually visible in the end.

During testing I discovered the intersect technique has the same problem I mentioned earlier. If there are more paths after swapping an icon than before, the color will still not be applied to all parts of the icon and there are a few other issues[^2]. You can experiment with it in the playground file below, where I've included both methods.

Because of these issues I use a mask in my icon placeholder component. To construct it, we first have to navigate around what seems to be another bug. Swapping out the icon in an instance later, causes the mask to stop working, which seems to be another bug. But we can circumvent this by grouping the icon first. Then we place a rectangle as the color layer on top. The resize constraints for all layers should be set to 'scale', so the component is resizable. Now we select both layers and apply the mask with <kbd>⌃ ⌘ M</kbd> and finally create the component with <kbd>⌥ ⌘ K</kbd>.

<Figure
	alt="Create a mask based icon component in four steps."
	src="https://res.cloudinary.com/dm3a0qioc/image/upload/v1706090273/Figma%20Icons/icon-placeholder-explosion-steps-3_vhiw4m.jpg"
	aspectRatio="16:9"></Figure>

{/* <Figure
	alt=""
	src="../src/assets/images/icon-placeholder-comp-layers.png"
	aspectRatio="12:5"></Figure> */}

To make the component a bit more nice to use, I like to create an instance swap property for the icon inside. So using it in designs can select another icon right from the placeholder component instance. Like with all components, Figma displays a list with all components in the same file as the selected one. So if you're using a separate file or downloaded one from the community, it will display all icons you have available. Very convenient with icons in team libraries.

## Playground

I've prepared a [playground file](https://www.figma.com/community/file/1331327712728500688/icon-placeholder-component) with the different methods I mentioned above, so you can try them your yourself or copy them into your libraries. 

{/* <details class="full-width-reset">
<summary>Open playground file</summary>
<iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" width="100%" height="600" src="https://www.figma.com/embed?embed_host=share&url=https%3A%2F%2Fwww.figma.com%2Ffile%2FE5QWm4BnuH7At6UtMJYay9%2FIcon-Button%3Ftype%3Ddesign%26node-id%3D5%253A304%26mode%3Ddesign%26t%3DbPtgjRK0Z68PU2Z2-1" allowfullscreen loading="lazy"></iframe>
</details>
 */}


[^1]: See the Figma documentation for more details. https://help.figma.com/hc/en-us/articles/360039150733-Apply-overrides-to-instances#Preserve_overrides
[^2]: The intersection operation doesn't work for some icons and a bug in Figma and will cause the intersection to stop working after the icon instance is swapped.